<!-- Admin Password Modal -->
<div id="adminModal" class="modal" style="display:none;">
  <div class="modal-content">
    <span class="close" onclick="closeModal()">&times;</span>
    <h3>Enter Admin Password</h3>
    <input type="password" id="adminPasswordInput" placeholder="Admin Password" required>
    <button onclick="submitWithPassword()">Confirm</button>
  </div>
</div>

<script>
  let targetForm = null;

  function openAdminModal(formId) {
    targetForm = document.getElementById(formId);
    document.getElementById('adminModal').style.display = 'block';
  }

  function closeModal() {
    document.getElementById('adminModal').style.display = 'none';
    targetForm = null;
  }

  function submitWithPassword() {
    const password = document.getElementById('adminPasswordInput').value;
    if (!password) return alert("Password required");

    const input = document.createElement('input');
    input.type = 'hidden';
    input.name = 'admin_password';
    input.value = password;
    targetForm.appendChild(input);

    targetForm.submit();
  }
</script>

<style>
  .modal {
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: rgba(0,0,0,0.5);
    display: flex; justify-content: center; align-items: center;
  }
  .modal-content {
    background: white;
    padding: 2rem;
    border-radius: 8px;
    text-align: center;
  }
  .close {
    float: right;
    font-size: 1.5rem;
    cursor: pointer;
  }
</style>